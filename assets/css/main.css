---
---

@import "tailwindcss";

@theme {
    /* Brand Colors (2026 Refresh) */
    --color-brand-ink: #001524;
    --color-brand-orange: #F58F29;
    --color-brand-grey: #767B91;
    --color-brand-chestnut: #772E25;
    --color-brand-smoke: #F3F3F3;
    
    /* Typography */
    --font-sans: 'Source Sans 3', sans-serif;
    --font-header: 'Fraunces', serif;
}

/* === ACCESSIBILITY UTILITIES === */
@layer utilities {
    /* Hide scrollbar while preserving scroll functionality */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Screen reader only class */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Show screen reader content when focused */
    .sr-only:focus,
    .focus\:not-sr-only:focus {
        position: static;
        width: auto;
        height: auto;
        padding: inherit;
        margin: inherit;
        overflow: visible;
        clip: auto;
        white-space: normal;
    }
}

/* === ACCESSIBILITY BASE STYLES === */
@layer base {
    /* Base font size - slightly larger than browser default (16px) */
    html {
        font-size: 18px;
    }

    /* Enhanced focus styles for better visibility */
    a:focus,
    button:focus,
    input:focus,
    textarea:focus,
    select:focus {
        outline: 2px solid #772E25;
        outline-offset: 2px;
    }

    /* High contrast mode adjustments */
    @media (prefers-contrast: high) {
        .bg-brand-smoke\/70 {
            background-color: rgba(243, 243, 243, 0.95);
        }

        .dark .bg-brand-ink\/70 {
            background-color: rgba(0, 21, 36, 0.95);
        }
    }

    /* Reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }

    /* Skip link positioning */
    .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: #000;
        color: #fff;
        padding: 8px;
        text-decoration: none;
        z-index: 1000;
    }

    .skip-link:focus {
        top: 6px;
    }

    /* Ensure minimum tap target size for touch devices */
    @media (pointer: coarse) {
        a,
        button,
        input,
        select,
        textarea {
            min-height: 44px;
            min-width: 44px;
        }
    }

    /* Print styles for better accessibility */
    @media print {
        /* Ensure good contrast for printing */
        * {
            background: transparent !important;
            color: black !important;
            box-shadow: none !important;
            text-shadow: none !important;
        }

        /* Show URLs for links */
        a[href]::after {
            content: " (" attr(href) ")";
        }

        /* Hide decorative elements */
        .sr-only,
        [aria-hidden="true"] {
            display: none !important;
        }
    }
}

/* Global body background and text colors */
:root {
    color-scheme: light dark;
}

@layer components {
    body {
        @apply bg-brand-smoke dark:bg-brand-ink text-brand-ink dark:text-brand-smoke transition-colors duration-300;
    }

    /* Links with warm accent color */
    a {
        @apply text-brand-orange transition-colors duration-200;
        
        &:hover {
            @apply text-brand-chestnut underline;
        }
    }

    .hyperlink-container a {
        @apply text-brand-orange underline;
        
        &:hover {
            @apply text-brand-chestnut underline;
        }
    }

    /* === REUSABLE TEXT COLOR UTILITIES === */
    .text-body {
        @apply text-brand-ink dark:text-brand-smoke;
    }
    
    .text-muted {
        @apply text-brand-grey;
    }
    
    .text-heading {
        @apply text-brand-ink dark:text-brand-smoke;
    }
    
    /* === REUSABLE LINK STYLES === */
    .link-accent {
        @apply text-brand-orange hover:text-brand-chestnut transition-colors duration-200;
    }
    
    /* === REUSABLE BUTTON STYLES === */
    .btn-primary {
        @apply px-4 py-2 rounded-lg bg-brand-orange text-white hover:bg-brand-chestnut transition-colors duration-200 font-medium no-underline;

        &:hover {
            @apply text-white no-underline;
        }
    }

    .btn-secondary {
        @apply px-3 py-2 rounded-lg bg-brand-smoke dark:bg-brand-ink text-brand-ink dark:text-brand-smoke border border-brand-grey/30 hover:border-brand-orange transition-colors duration-200 font-medium no-underline;

        &:hover {
            @apply text-brand-ink dark:text-brand-smoke no-underline;
        }
    }

    .btn-ghost {
        @apply px-3 py-2 rounded-lg text-brand-ink dark:text-brand-smoke hover:bg-brand-grey/10 transition-colors duration-200 no-underline;

        &:hover {
            @apply text-brand-ink dark:text-brand-smoke no-underline;
        }
    }
    
    /* === REUSABLE CONTAINER/CARD STYLES === */
    .article-container {
        @apply bg-brand-smoke/70 dark:bg-brand-ink/70 backdrop-blur-sm rounded-2xl shadow-lg border border-brand-grey/20 overflow-hidden transition-colors duration-300;
    }

    .dropdown-menu {
        @apply bg-brand-smoke dark:bg-brand-ink border border-brand-grey/30 rounded-lg shadow-lg;
    }

    .info-box {
        @apply bg-brand-orange/10 border border-brand-orange/30 rounded-lg p-4 text-brand-grey;
    }

    .badge-accent {
        @apply bg-brand-orange/15 text-brand-chestnut dark:text-brand-orange px-2 py-1 rounded text-xs font-medium border border-brand-orange/30;
    }
    
    /* === REUSABLE SECTION BACKGROUNDS === */
    .section-bg {
        @apply bg-brand-grey/10 dark:bg-brand-grey/10;
    }
    
    .section-bg-white {
        @apply bg-brand-smoke dark:bg-brand-ink;
    }
    
    /* === REUSABLE ICON STYLES === */
    .icon-interactive {
        @apply text-brand-grey hover:text-brand-orange transition-colors duration-200;
    }
    
    /* === REUSABLE INPUT STYLES === */
    .input-default {
        @apply w-full px-4 py-3 rounded-lg border-2 border-brand-grey/30 bg-brand-smoke dark:bg-brand-ink text-brand-ink dark:text-brand-smoke placeholder-brand-grey focus:outline-none focus:border-brand-orange transition-colors;
    }

    /* === PROSE/ARTICLE STYLING === */
    .prose {
        @apply text-brand-ink dark:text-brand-smoke text-lg;

        h2 {
            @apply mt-12 mb-6 pt-6 pb-3 border-t-2 border-brand-grey/20 relative font-bold text-brand-ink dark:text-brand-smoke text-2xl font-header;
            font-weight: 700;

            &:first-of-type {
                @apply mt-8 border-t-0 pt-0;
            }

            &::before {
                content: '';
                @apply absolute -top-0.5 left-0 w-16 h-0.5 bg-brand-chestnut rounded-sm;
            }
        }

        h3 {
            @apply text-xl font-bold text-brand-ink dark:text-brand-smoke mt-8 mb-4 font-header;
            font-weight: 600;
        }

        p {
            @apply leading-relaxed my-4;
        }

        a {
            @apply text-brand-orange underline hover:text-brand-chestnut hover:no-underline;
        }

        ul, ol {
            @apply my-4 ml-6;
            list-style-position: outside;
        }

        ul {
            @apply list-disc;
        }

        ol {
            @apply list-decimal;
        }

        li {
            @apply text-brand-ink dark:text-brand-smoke mb-2;
            margin-left: 0;
        }

        blockquote {
            @apply border-l-4 border-brand-orange pl-4 italic text-brand-grey;
        }

        code {
            @apply bg-brand-grey/10 px-2 py-1 rounded text-sm font-mono text-brand-ink dark:text-brand-smoke;
        }

        pre {
            @apply bg-brand-ink p-4 rounded-lg overflow-x-auto my-4;

            code {
                @apply bg-transparent p-0 rounded-none text-inherit;
            }
        }
    }

    /* === CARD/SECTION STYLING === */
    .card, .section-card {
        @apply bg-brand-smoke dark:bg-brand-ink border border-brand-grey/20 rounded-lg shadow-sm transition-all duration-300;

        &:hover {
            @apply shadow-md;
        }
    }

    /* === EMBEDDED WORKING NOTE === */
    /* Styling for working notes embedded within blog posts.
       Uses BEM naming convention for structured component styling.
       Template: _includes/embeds/working-note.html */
    .embedded-working-note {
        @apply my-6 rounded-lg border-l-4 border-brand-orange bg-brand-grey/10 p-4 shadow-sm transition-colors duration-200;
    }

    .embedded-working-note__header {
        @apply mb-3 pb-2 border-b border-brand-grey/20;
    }

    .embedded-working-note__title {
        @apply font-bold text-base text-brand-ink dark:text-brand-smoke m-0;
    }

    .embedded-working-note__content {
        @apply text-sm text-brand-ink dark:text-brand-smoke;

        p {
            @apply my-2 leading-relaxed;

            &:first-child {
                @apply mt-0;
            }

            &:last-child {
                @apply mb-0;
            }
        }

        a {
            @apply text-brand-orange underline hover:text-brand-chestnut;
        }
    }

    .embedded-working-note__footer {
        @apply mt-3 pt-2 border-t border-brand-grey/20;
    }

    .embedded-working-note__link {
        @apply text-xs font-medium text-brand-orange no-underline;

        &:hover {
            @apply text-brand-chestnut underline;
        }
    }
}

/* Syntax highlighting - ensure colors display */
.highlight {
    @apply text-brand-smoke;
}

.highlight pre {
    @apply bg-brand-ink;
    background-color: #001524 !important;
}

.highlight .c, .highlight .cm, .highlight .c1, .highlight .cs {
    @apply text-brand-grey italic;
}

.highlight .k, .highlight .kc, .highlight .kd, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt {
    @apply text-brand-orange font-semibold;
}

.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s1, .highlight .s2, .highlight .se, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr, .highlight .s3, .highlight .ss {
    color: #F58F29;
}

.highlight .n, .highlight .na, .highlight .nb, .highlight .nc, .highlight .no, .highlight .nd, .highlight .ni, .highlight .ne, .highlight .nf, .highlight .nl, .highlight .nn, .highlight .nx, .highlight .py, .highlight .nt, .highlight .nv {
    @apply text-brand-smoke;
}

.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo {
    color: #767B91;
}

.highlight .o, .highlight .ow {
    @apply text-brand-smoke;
}
