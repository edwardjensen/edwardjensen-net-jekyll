{% comment %}
  Photo Location Map Component
  Displays a Google Maps embed for photo location.
  Self-contained - handles its own conditional rendering.

  Required fields (both must be present for map to display):
    page.location_lat - Latitude coordinate
    page.location_lng - Longitude coordinate

  Optional fields:
    page.location_name - Display name for the location

  Requires site.google_maps_api_key to be set in _config.yml
{% endcomment %}

{% if page.location_lat and page.location_lng and site.google_maps_api_key %}
<aside class="section-bg rounded-lg p-6 my-6 transition-colors duration-300" role="complementary" aria-label="Photo location">
  <h2 class="text-sm font-semibold text-heading uppercase tracking-wide mb-4">
    <i class="bi bi-geo-alt me-2" aria-hidden="true"></i>Location
  </h2>

  {% if page.location_name %}
  <p class="text-body mb-4">{{ page.location_name }}</p>
  {% endif %}

  <div class="aspect-video w-full rounded-lg overflow-hidden">
    <iframe
      src="https://www.google.com/maps/embed/v1/view?key={{ site.google_maps_api_key }}&center={{ page.location_lat }},{{ page.location_lng }}&zoom=15&maptype=roadmap"
      width="100%"
      height="100%"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
      title="Map showing photo location{% if page.location_name %}: {{ page.location_name }}{% endif %}">
    </iframe>
  </div>
</aside>
{% endif %}
