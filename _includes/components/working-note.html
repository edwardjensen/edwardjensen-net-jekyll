{% comment %}
Working Note Item Component
Parameters:
- include.note: The working note object to display
- include.index: The index number (1-20) for the anchor
{% endcomment %}

<article id="note-{{ include.index }}" class="group hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg p-4 transition-colors duration-200 border-l-4 border-amber-400 bg-white dark:bg-slate-800 scroll-mt-24">
  <div class="space-y-3">
    <!-- Note Title + Tags Header -->
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-2">
      <h3 class="text-slate-900 dark:text-slate-100 font-bold text-lg">
        {{ include.note.title }}
      </h3>
      {% if include.note.tags and include.note.tags.size > 0 %}
      <div class="flex flex-wrap gap-1" role="list" aria-label="Note tags">
        {% for tag in include.note.tags %}
        <span class="badge-accent" role="listitem">
          #{{ tag }}
        </span>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <!-- Note Content (includes images, code, and other media) -->
    <div class="prose dark:prose-invert max-w-none [&_img]:rounded-lg [&_img]:my-2 [&_pre]:overflow-x-auto text-body">
      {{ include.note.content }}
    </div>

    <!-- Date + Permalink Footer -->
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-2 pt-2 border-t border-slate-200 dark:border-slate-700">
      <time class="text-xs font-mono text-muted" datetime="{{ include.note.date | date: '%Y-%m-%d' }}">
        {{ include.note.date | date: "%e %B %Y" }}
      </time>
      <a href="{{ include.note.url | relative_url }}" class="text-xs font-medium link-accent">
        permalink
      </a>
    </div>
  </div>
</article>
