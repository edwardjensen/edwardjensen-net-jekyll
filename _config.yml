url: "https://www.edwardjensen.net"
baseurl: ""
lang: "en-US"
title: "Edward Jensen"
tagline: "Exploring the Nonprofit IT Landscape: Insights and Reflections"

# Feature flags
show_portfolio: false  # Set to true in _config.local.yml to show portfolio
description: "Edward Jensen is a nonprofit technology professional who writes about the intersection of technology and mission-driven impact work."
logo: "/assets/images/bluebackground.png"
timezone: "America/Chicago"

# API version: v1 (GraphQL) or v2 (REST)
api_version: "v1"  # Set to "v2" to use REST API
fallback_to_v1: true  # Fallback to GraphQL if v2 fails

# GraphQL endpoint for CMS content (v1)
# Set via GRAPHQL_ENDPOINT env var, or defaults to this URL
payload_graphql:
  url: "https://graphql.edwardjensen.net/api/graphql"
  fail_on_error: true

# REST API endpoint for CMS content (v2)
# Set via REST_API_BASE_URL env var, or defaults to this URL
payload_rest:
  url: "https://graphql.edwardjensen.net/api/v2"  # Base URL without trailing slash
  fail_on_error: true

plugins:
  - jekyll-postcss-v2
  - jekyll-redirect-from

markdown: kramdown
highlighter: rouge
kramdown:
  input: GFM

postcss:
  cache: false
  script: node_modules/.bin/postcss
  config: postcss.config.js

exclude:
  - package-lock.json
  - package.json
  - node_modules
  - postcss.config.js
  - tailwind.config.js
  - '*.code-workspace'
  - _config.staging.yml
  - _config.dev.yml
  - scripts
  - context-docs
  - site-docs
  - CLAUDE.md
  - README.md
  - .pa11yci.json
  - _photography
  - .github
  - cloudflare-workers

include:
  - _site_pages
  - _redirects

collections:
  posts:
    output: true
    permalink: /:collection/:year/:year-:month/:title
    cms:
      collection: "Posts"
      layout: "single-post"
  photography:
    output: true
    permalink: /photos/:year/:year-:month/:title
    cms:
      collection: "Photography"
      layout: "single-photo"
      field_mappings:
        exifCamera: exif_camera
        exifLens: exif_lens
        exifFocalLength: exif_focal_length
        exifAperture: exif_aperture
        exifShutterSpeed: exif_shutter_speed
        exifIso: exif_iso
        locationLat: location_lat
        locationLng: location_lng
        locationPointOfInterest: location_point_of_interest
        locationNeighborhood: location_neighborhood
        locationFormatted: location_formatted
        locationCity: location_city
        locationState: location_state
        locationCountry: location_country
  portfolio:
    output: false  # Set to true in _config.local.yml to build portfolio pages
    permalink: /portfolio/:title
  feeds:
    output: true
  sections_homepage:
    output: false
  sections_camerastream:
    output: false
  working_notes:
    output: true
    permalink: /notes/:year-:month-:day/:title
    cms:
      collection: "WorkingNotes"
      layout: "single-working-note"
  sections_landing:
    output: false
  historic_posts:
    output: true
    permalink: /archive/posts/:title
    cms:
      collection: "HistoricPosts"
      layout: "single-post"
  pages:
    output: true
    cms:
      collection: "Pages"
      layout: "page"
  featured-tags:
    output: true
    permalink: /tags/:title

# Layout defaults
# Note: CMS-managed collections (posts, working_notes, historic_posts, pages, photography)
# have their layouts set explicitly by the payload_cms.rb plugin via the cms.layout config.
# Only file-based collections need defaults here.
defaults:
  -
    scope:
      path: "_featured-tags"
      type: "featured-tags"
    values:
      layout: featured-tag

social:
  name: Edward Jensen
  url: https://www.edwardjensen.net/about/
  links:
    - https://www.linkedin.com/in/edwardjensen
    - https://github.com/edwardjensen
    - https://bsky.app/profile/edwardjensen.net

google_site_verification: "PUqXTWcgjCSbkQtEjssc5jBk2ClsrtS3qeJc0-JNvLM"
